{"ast":null,"code":"import React from\"react\";import{Field,reduxForm}from\"redux-form\";import{createField,Input}from\"../common/FormsControls/FormsControls\";import{required}from\"../../utils/validators/validators\";import{connect}from\"react-redux\";import{login}from\"../../redux/AuthReducer\";import{Redirect}from\"react-router-dom\";import style from\"./../common/FormsControls/FormsControls.module.css\";var LoginForm=function LoginForm(_ref){var handleSubmit=_ref.handleSubmit,error=_ref.error,captchaUrl=_ref.captchaUrl;return React.createElement(\"form\",{onSubmit:handleSubmit},createField('Email','email',Input,[required]),createField('Password','password',Input,[required],'password'),createField(null,'rememberMe',Input,null,'checkbox','remember me'),captchaUrl&&React.createElement(\"img\",{src:captchaUrl}),captchaUrl&&createField('Symbols from image','captcha',Input,[required],{}),error&&React.createElement(\"div\",{className:style.formSummaryError},error),React.createElement(\"div\",null,React.createElement(\"button\",null,\"Login\")));};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe,formData.captcha);};if(props.isAuth){return React.createElement(Redirect,{to:'/profile'});}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Login\"),React.createElement(LoginReduxForm,{onSubmit:onSubmit,captchaUrl:props.captchaUrl}));};var mapStateToProps=function mapStateToProps(state){return{captchaUrl:state.auth.captchaUrl,isAuth:state.auth.isAuth};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["C:/it/MyFirstProject/src/components/Component/Login.jsx"],"names":["React","Field","reduxForm","createField","Input","required","connect","login","Redirect","style","LoginForm","handleSubmit","error","captchaUrl","formSummaryError","LoginReduxForm","form","Login","props","onSubmit","formData","email","password","rememberMe","captcha","isAuth","mapStateToProps","state","auth"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,CAAeC,SAAf,KAA+B,YAA/B,CACA,OAAQC,WAAR,CAAqBC,KAArB,KAAiC,uCAAjC,CACA,OAAQC,QAAR,KAAuB,mCAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,KAAR,KAAoB,yBAApB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oDAAlB,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAwC,IAAtCC,CAAAA,YAAsC,MAAtCA,YAAsC,CAAxBC,KAAwB,MAAxBA,KAAwB,CAAjBC,UAAiB,MAAjBA,UAAiB,CACtD,MACI,6BAAM,QAAQ,CAAEF,YAAhB,EACKR,WAAW,CAAC,OAAD,CAAU,OAAV,CAAmBC,KAAnB,CAA0B,CAACC,QAAD,CAA1B,CADhB,CAEKF,WAAW,CAAC,UAAD,CAAa,UAAb,CAAyBC,KAAzB,CAAgC,CAACC,QAAD,CAAhC,CAA4C,UAA5C,CAFhB,CAGKF,WAAW,CAAC,IAAD,CAAO,YAAP,CAAqBC,KAArB,CAA4B,IAA5B,CAAkC,UAAlC,CAA8C,aAA9C,CAHhB,CAKKS,UAAU,EAAI,2BAAK,GAAG,CAAIA,UAAZ,EALnB,CAMKA,UAAU,EAAIV,WAAW,CAAC,oBAAD,CAAuB,SAAvB,CAAkCC,KAAlC,CAAyC,CAACC,QAAD,CAAzC,CAAoD,EAApD,CAN9B,CAQKO,KAAK,EAAI,2BAAK,SAAS,CAAEH,KAAK,CAACK,gBAAtB,EACLF,KADK,CARd,CAYI,+BACI,0CADJ,CAZJ,CADJ,CAkBH,CAnBD,CAoBA,GAAMG,CAAAA,cAAc,CAAGb,SAAS,CAAC,CAACc,IAAI,CAAE,OAAP,CAAD,CAAT,CAA2BN,SAA3B,CAAvB,CAEA,GAAMO,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACrB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC3BF,KAAK,CAACX,KAAN,CAAYa,QAAQ,CAACC,KAArB,CAA4BD,QAAQ,CAACE,QAArC,CAA+CF,QAAQ,CAACG,UAAxD,CAAoEH,QAAQ,CAACI,OAA7E,EACH,CAFD,CAGA,GAAIN,KAAK,CAACO,MAAV,CAAkB,CACd,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAE,UAAd,EAAP,CACH,CACD,MACI,gCACI,sCADJ,CAEI,oBAAC,cAAD,EAAgB,QAAQ,CAAEN,QAA1B,CAAoC,UAAU,CAAID,KAAK,CAACL,UAAxD,EAFJ,CADJ,CAMH,CAbD,CAcA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCd,UAAU,CAACc,KAAK,CAACC,IAAN,CAAWf,UADU,CAEhCY,MAAM,CAACE,KAAK,CAACC,IAAN,CAAWH,MAFc,CAAZ,EAAxB,CAIA,cAAenB,CAAAA,OAAO,CAACoB,eAAD,CAAkB,CAACnB,KAAK,CAALA,KAAD,CAAlB,CAAP,CAAkCU,KAAlC,CAAf","sourcesContent":["import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', Input, [required])}\r\n            {createField('Password', 'password', Input, [required], 'password')}\r\n            {createField(null, 'rememberMe', Input, null, 'checkbox', 'remember me')}\r\n\r\n            {captchaUrl && <img src = {captchaUrl}/>}\r\n            {captchaUrl && createField('Symbols from image', 'captcha', Input, [required],{})}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl = {props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl:state.auth.captchaUrl,\r\n    isAuth:state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);\r\n\r\n"]},"metadata":{},"sourceType":"module"}